## План лекции: 

1. Основы
2. Масштабирование
3. syscalls 
4. Очереди
5. Синхронизация 
6. Циклы

---
### I/O-bounds нагрузки:

TODO: схема web service (с тредами и дорого/медленно)

---
## Основы:

Ключевая идея языка: 

- Не даем в руки программиста поток;
- Делаем вид, что есть только горутины;
- Всю сложность распределения горутин абстрагируем

---

### Как и когда вытеснять горутины: 

Компилятор добавит места в исходный код для переключения контекста. 

> Например, в момент проверки необходимого пространства для стека горутины (кооперативная многозадачность).

---

## Масштабирование:

### Как быть с многоядерными процессорами:

### Not scalable:
- N:M модель (n горутин, на m потоков) - не масштабируется, из-за синхронизации;
- lock-free очередь на атомиках, два входа, пишем в конец, читаем из начала, потоки друг другу мешают, цикл на cast loop;
- 