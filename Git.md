## Команды Git:

| Comand:                                             | Description:                                                                                                                                 | Use:                                                     |
| --------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------- |
| `git init`                                          | Инициализирует новый репозиторий Git в текущей папке.                                                                                        | Начало работы над проектом, создание нового репозитория. |
| `git clone <url>`                                   | Клонирует удаленный репозиторий.                                                                                                             | Получить копию существующего проекта с Github/Gitlab.    |
| `git status `                                       | Показывает текущее состояние репозитория.                                                                                                    | Проверить изменения, staged/unstaged файлы.              |
| `git add <file>`                                    | Добавляет файл в staging area.                                                                                                               | Подготовить файл к коммиту.                              |
| `git add .`                                         | Добавляет все изменения.                                                                                                                     | Быстро подготовить все изменения к коммиту.              |
| `git commit -m "message"`                           | Создает новый коммит с сообщением.                                                                                                           | Сохранить изменения с описанием.                         |
| `git commit --amend`                                | Изменяет последний коммит.                                                                                                                   | Исправить сообщение или добавить забытые файлы.          |
| `git log`                                           | Показывает историю коммитов.                                                                                                                 | Просмотр истории коммитов.                               |
| `git log --oneline --graph --decorate --all`        | Краткий и наглядный вид истории коммитов.                                                                                                    | Анализ веток и слияний.                                  |
| `git diff`                                          | Показывает различия между версиями файлов.                                                                                                   | Проверить, что изменилось перед коммитом.                |
| `git diff <branch1>..<branch2>`                     | Разница между двумя ветками.                                                                                                                 | Сравнить ветку feature с main.                           |
| `git show <commit>`                                 | Показывает детали коммита.                                                                                                                   | Посмотреть, что изменено в конкретном коммите.           |
| `git branch`                                        | Список веток.                                                                                                                                | Проверить текущие ветки.                                 |
| `git branch <name>`                                 | Создать новую ветку.                                                                                                                         | Начать разработку новой фичи.                            |
| `git switch <branch>` / <br>`git checkout <branch>` | Переключение на ветку.                                                                                                                       | Перейти на другую ветку.                                 |
| `git switch -c <branch>`                            | Создать и сразу перейти на ветку.                                                                                                            | Удобно при начале новой задачи.                          |
| `git merge <branch>`                                | Объединяет ветку в текущую.                                                                                                                  | Влить изменения из feature в main.                       |
| `git merge --no-ff <branch>`                        | Создает merge-коммит даже при fast-forward(слияние без создания нового коммита).                                                             | Сохранить историю ветки в main.                          |
| `git rebase <branch>`                               | Переносит коммиты поверх другой ветки.                                                                                                       | Упрощает историю, делает ее линейной.                    |
| `git rebase -i HEAD~N`                              | Интерактивное редактирование истории.                                                                                                        | Склеить, переименовать или удалить коммиты.              |
| `git reset --soft HEAD~1`                           | Убирает коммит, <br>но оставляет изменения в staging **(добавление изменения в область подготовки (в индекс) с помощью команды `git add`)**. | Исправить последний коммит.                              |
| `git reset --mixed HEAD~1`                          | Убирает коммит и staging, но сохраняет файлы.                                                                                                | Пересобрать коммит заново.                               |
| `git reset --hard HEAD~1`                           | Полностью удаляет коммит и изменения.                                                                                                        | Откатить ошибочные изменения (осторожно!)                |
| `git restore <file>`                                | Восстановить файл из последнего коммита.                                                                                                     | Отменить случайные правки.                               |
| `git restore --staged <file>`                       | Убрать файл из staging.                                                                                                                      | Убрать файл, если случайно добавили не тот.              |
| `git revert <commit>`                               | Создает обратный коммит, отменяющий изменения.                                                                                               | Безопасно откатить изменения в публичной истории.        |
| `git stash`                                         | Временно сохраняет незакоммиченные изменения.                                                                                                | Переключиться на другую ветку, не теряя работу.          |
| `git stash pop`                                     | Возвращает сохраненные изменения.                                                                                                            | Продолжить работу после переключения.                    |
| `git stash list`                                    | Список всех stash-записей.                                                                                                                   | Проверить, что отложено.                                 |
| `git cherry-pick <commit>`                          | Применяет коммит из другой ветки.                                                                                                            | Перенести конкретное изменение без merge.                |
| `git fetch`                                         | Получает изменения с удаленного репо, не вливая их.                                                                                          | Проверить обновления без merge.                          |
| `git pull`                                          | `fetch` + `merge` текущей ветки.                                                                                                             | Обновить локальную ветку с сервера.                      |
| `git pull --rebase`                                 | Подтянуть изменения, сохранив линейную историю.                                                                                              | Чистая история при совместной работе.                    |
| `git push`                                          | Отправляет локальные коммиты в удаленный репозиторий.                                                                                        | Публикация изменений.                                    |
| `git push -u origin <branch>`                       | Связывает локальную ветку с удаленной.                                                                                                       | Первый пуш новой ветки.                                  |
| `git remote -v`                                     | Список удаленных репозиториев.                                                                                                               | Проверить источники проекта.                             |
| `git remote add origin <url>`                       | Добавить удаленный репозиторий.                                                                                                              | Связать локальный проект с Github.                       |
| `git tag <name>`                                    | Создать тег (маркировку коммита).                                                                                                            | Помечать релизы (v1.0.0 и т.д.)                          |
| `git tag -a v1.0.0 -m "Release"`                    | Аннотированный тег.                                                                                                                          | Для релизов с описанием.                                 |
| `git show-ref`                                      | Показывает ссылки на ветки и теги.                                                                                                           | Анализ ссылок на репо.                                   |
| `git blame <file>`                                  | Показывает, кто и когда изменил каждую строку.                                                                                               | Поиск автора бага.                                       |
| `git clean -fd`                                     | Удаляет неотслеживаемые файлы и папки.                                                                                                       | Очистить мусор перед сборкой.                            |
| `git reflog`                                        | История всех действий с HEAD.                                                                                                                | Восстановление потерянных коммитов.                      |
| `git bisect start`                                  | Начинает поиск бага бинарным поиском.                                                                                                        | Поиск коммита, сломавшего функционал.                    |
| `git bisect good/bad`                               | Отмечает плохие и хорошие состояния.                                                                                                         | Помогает Git найти виновный коммит.                      |
| `git submodule add <repo>`                          | Добавляет внешний репозиторий как модуль.                                                                                                    | Используется в монорепо/зависимостях.                    |
| `git config --global user.name/email`               | Настройка пользователя Git.                                                                                                                  | Указывается один раз на машине.                          |
| `git config --list`                                 | Список всех настроек.                                                                                                                        | Проверить конфигурацию.                                  |
| `git alias` (через `config`)                        | Создает короткие псевдонимы.                                                                                                                 | `git config alias.lg "log --oneline --graph"`.           |
| `git gc`                                            | Оптимизация и очистка мусора в репо.                                                                                                         | Ускорение работы при большом количестве коммитов.        |
| `git fsck`                                          | Проверка целостности репозитория.                                                                                                            | Найти повреждения или ошибки.                            |
| `git apply <patch>`                                 | Применяет патч.                                                                                                                              | Используется в open-source и CI.                         |
| `git format-patch`                                  | Создает патчи из коммитов.                                                                                                                   | Отправка изменений без прямого пуша.                     |
| `git archive`                                       | Упаковывает репозиторий в zip/tar.                                                                                                           | Подготовить релизный архив.                              |
| `git shortlog -sn`                                  | Статистика по авторам.                                                                                                                       | Анализ вклада участников проекта.                        |

---
## Часто используемые комбинации:

| Комбинация                                        | Назначение                                   |
| ------------------------------------------------- | -------------------------------------------- |
| `git log --oneline --graph --decorate --all`      | Красивая визуализация веток.                 |
| `git diff origin/main..HEAD`                      | Посмотреть, что изменилось перед пушем.      |
| `git rebase -i HEAD~3`                            | Склеить или переименовать последние коммиты. |
| `git reset --hard origin/main`                    | Полностью откатить до состояния main.        |
| `git stash && git pull --rebase && git stash pop` | Обновить ветку, не потеряв закомиченное.     |
| `git cherry-pick <hash>`                          | Взять один нужный коммит из другой ветки.    |
| `git revert HEAD~2..HEAD`                         | Отменить несколько последних коммитов.       |

---
## PR из командной строки:


| Инструмент          | Команда          | Что делает                                      |
| ------------------- | ---------------- | ----------------------------------------------- |
| GitHub CLI (`gh`)   | `gh pr create`   | Создает pull request на GitHub прямо из консоли |
|                     | `gh pr view`     | Просмотр PR.                                    |
|                     | `gh pr merge`    | Слияние PR.                                     |
| GitLab CLI (`glab`) | `glab mr create` | Создание merge request в GitLab.                |
|                     | `glab mr list`   | Список MR.                                      |
|                     | `glab mr merge`  | Принятие MR                                     |

---
